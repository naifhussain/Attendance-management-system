{% extends 'base/base.html' %}
{% load static %}

{% block content %}


<h1>{% for sub in subject%}
    {{sub.subject_name}}
    {% endfor %}Attendance</h1>
{% if student_list_sub1 %} <!-- for 1st subject--> 

    <table class="table table-responsive-sm table-bordered table-striped table-sm">
        <tr>
            <th>Name</th>
            <th>Admission ID</th>
            <th>{% for sub in subject %}
                {{sub.subject_name}} 
                {% endfor %} Attendance</th>
            <th>Action</th>
        </tr>
        {% for std_list in student_list_sub1 %}
            <tr>
                <td class="cls_name">{{ std_list.name }}</td>
                <td class="cls_admission">{{ std_list.usn }}</td>
                <td class="cls_class">{{ std_list.sub1_att }}%</td>
                <td><button class="btn btn-success" type="submit" onclick="location.href='{% url 'increase_sub1_att' std_list.id %}'">Present</button>
                     <button class="btn btn-warning" type="submit" onclick="location.href='{% url 'cancel_sub1_att' std_list.sub1%}'">Cancel Class</button></td>
                
            </tr>
        {% endfor %}
    </table>
{% endif %}

{% if student_list_sub2 %} <!-- for 2nd subject--> 
    <table class="table table-responsive-sm table-bordered table-striped table-sm">
        <tr>
            <th>Name</th>
            <th>Admission ID</th>
            <th>{% for sub in subject %}
                {{sub.subject_name}} 
                {% endfor %} Attendance</th>
            <th>Action</th>
        </tr>
        {% for std_list in student_list_sub2 %}
            <tr>
                <td class="cls_name">{{ std_list.name }}</td>
                <td class="cls_admission">{{ std_list.usn }}</td>
                <td class="cls_class">{{ std_list.sub2_att }}%</td>
                <td><button class="btn btn-success" type="submit" onclick="location.href='{% url 'increase_sub2_att' std_list.id %}'">Present</button>
                    <button class="btn btn-warning" type="submit" onclick="location.href='{% url 'cancel_sub2_att' std_list.sub2%}'">Cancel Class</button> </td>
                
            </tr>
        {% endfor %}
    </table>
{% endif %}

{% if student_list_sub3 %} <!-- for 3rd subject--> 
    <table class="table table-responsive-sm table-bordered table-striped table-sm">
        <tr>
            <th>Name</th>
            <th>Admission ID</th>
            <th>{% for sub in subject %}
                {{sub.subject_name}} 
                {% endfor %} Attendance</th>
            <th>Action</th>
        </tr>
        {% for std_list in student_list_sub3 %}
            <tr>
                <td class="cls_name">{{ std_list.name }}</td>
                <td class="cls_admission">{{ std_list.usn }}</td>
                <td class="cls_class">{{ std_list.sub3_att }}%</td>
                <td><button class="btn btn-success" type="submit" onclick="location.href='{% url 'increase_sub3_att' std_list.id %}'">Present</button>
                    <button class="btn btn-warning" type="submit" onclick="location.href='{% url 'cancel_sub3_att' std_list.sub3%}'">Cancel Class</button> </td>
                
            </tr>
        {% endfor %}
    </table>
{% endif %}

{% if student_list_sub4 %} <!-- for 4th subject--> 
    <table class="table table-responsive-sm table-bordered table-striped table-sm">
        <tr>
            <th>Name</th>
            <th>Admission ID</th>
            <th>{% for sub in subject %}
                {{sub.subject_name}} 
                {% endfor %} Attendance</th>
            <th>Action</th>
        </tr>
        {% for std_list in student_list_sub4 %}
            <tr>
                <td class="cls_name">{{ std_list.name }}</td>
                <td class="cls_admission">{{ std_list.usn }}</td>
                <td class="cls_class">{{ std_list.sub4_att }}%</td>
                <td><button class="btn btn-success" type="submit" onclick="location.href='{% url 'increase_sub4_att' std_list.id %}'">Present</button>
                    <button class="btn btn-warning" type="submit" onclick="location.href='{% url 'cancel_sub4_att' std_list.sub4%}'">Cancel Class</button> </td>
                
            </tr>
        {% endfor %}
    </table>
{% endif %}

{% if student_list_sub5 %} <!-- for 5th subject--> 
    <table class="table table-responsive-sm table-bordered table-striped table-sm">
        <tr>
            <th>Name</th>
            <th>Admission ID</th>
            <th>{% for sub in subject %}
                {{sub.subject_name}} 
                {% endfor %} Attendance</th>
            <th>Action</th>
        </tr>
        {% for std_list in student_list_sub5 %}
            <tr>
                <td class="cls_name">{{ std_list.name }}</td>
                <td class="cls_admission">{{ std_list.usn }}</td>
                <td class="cls_class">{{ std_list.sub5_att }}%</td>
                <td><button class="btn btn-success" type="submit" onclick="location.href='{% url 'increase_sub5_att' std_list.id %}'">Present</button> 
                    <button class="btn btn-warning" type="submit" onclick="location.href='{% url 'cancel_sub5_att' std_list.sub5%}'">Cancel Class</button></td>
                
            </tr>
        {% endfor %}
    </table>
{% endif %}

{% if student_list_sub6 %} <!-- for 6th subject--> 
    <table class="table table-responsive-sm table-bordered table-striped table-sm">
        <tr>
            <th>Name</th>
            <th>Admission ID</th>
            <th>{% for sub in subject %}
                {{sub.subject_name}} 
                {% endfor %} Attendance</th>
            <th>Action</th>
        </tr>
        {% for std_list in student_list_sub6 %}
            <tr>
                <td class="cls_name">{{ std_list.name }}</td>
                <td class="cls_admission">{{ std_list.usn }}</td>
                <td class="cls_class">{{ std_list.sub6_att }}%</td>
                <td><button class="btn btn-success" type="submit" onclick="location.href='{% url 'increase_sub6_att' std_list.id %}'">Present</button>
                    <button class="btn btn-warning" type="submit" onclick="location.href='{% url 'cancel_sub6_att' std_list.sub6%}'">Cancel Class</button> </td>
                
            </tr>
        {% endfor %}
    </table>
{% endif %}

{% if student_list_lab1 %} <!-- for 1st lab--> 
    <table class="table table-responsive-sm table-bordered table-striped table-sm">
        <tr>
            <th>Name</th>
            <th>Admission ID</th>
            <th>{% for sub in subject %}
                {{sub.subject_name}} 
                {% endfor %} Attendance</th>
            <th>Action</th>
        </tr>
        {% for std_list in student_list_lab1 %}
            <tr>
                <td class="cls_name">{{ std_list.name }}</td>
                <td class="cls_admission">{{ std_list.usn }}</td>
                <td class="cls_class">{{ std_list.lab1_att }}%</td>
                <td><button class="btn btn-success" type="submit" onclick="location.href='{% url 'increase_lab1_att' std_list.id %}'">Present</button>
                    <button class="btn btn-warning" type="submit" onclick="location.href='{% url 'cancel_lab1_att' std_list.lab1%}'">Cancel Class</button> </td>
                
            </tr>
        {% endfor %}
    </table>
{% endif %}

{% if student_list_lab2 %} <!-- for 2nd lab--> 
    <table class="table table-responsive-sm table-bordered table-striped table-sm">
        <tr>
            <th>Name</th>
            <th>Admission ID</th>
            <th>{% for sub in subject %}
                {{sub.subject_name}} 
                {% endfor %} Attendance</th>
            <th>Action</th>
        </tr>
        {% for std_list in student_list_lab2 %}
            <tr>
                <td class="cls_name">{{ std_list.name }}</td>
                <td class="cls_admission">{{ std_list.usn }}</td>
                <td class="cls_class">{{ std_list.lab2_att }}%</td>
                <td><button class="btn btn-success" type="submit" onclick="location.href='{% url 'increase_lab2_att' std_list.id %}'">Present</button>
                    <button class="btn btn-warning" type="submit" onclick="location.href='{% url 'cancel_lab2_att' std_list.lab2%}'">Cancel Class</button></td>
                
            </tr>
        {% endfor %}
    </table>
{% endif %}

<button type="button" onclick="location.href='{% url 'attendance_count' %}'"class="btn btn-primary"> Done</button>


{% endblock %}

